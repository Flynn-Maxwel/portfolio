<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Max's Portfolio | Creative Developer & Designer</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Personal portfolio of Max, a creative developer blending coding, design, and storytelling to build engaging digital experiences.">
    <meta name="keywords" content="Max, Creative Developer, Web Developer, UI/UX Design, Coding, Portfolio, Personal Website">
    <meta name="author" content="Max">

    <!-- Custom High-Resolution Favicon -->
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%230A0A0A'/%3E%3Ctext x='50' y='50' font-size='45' fill='%23FFFFFF' text-anchor='middle' dy='.3em' font-family='Playfair Display'%3EFM%3C/text%E3%80%89">

    <!-- Google Fonts: Inter and Playfair Display -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family+Playfair+Display:wght@700&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    
    <!-- NEW: Lenis Smooth Scroll Library -->
    <script src="https://unpkg.com/@studio-freight/lenis@1.0.42/dist/lenis.min.js"></script>
    
    <!-- Custom CSS and Tailwind Configuration -->
    <style>
        /* Basic Setup with Refined Palette */
        :root {
            /* Light Mode Palette */
            --background-light: #F8F8F8;
            --surface-light: #FFFFFF;
            --card-light: #FFFFFF;
            --heading-light: #1A1A1A;
            --text-light: #333333;
            --border-light: #E0E0E0;
            --accent-light: #6A67FF; /* A vibrant purple */

            /* Dark Mode Palette */
            --background-dark: #0A0A0A; 
            --surface-dark: #121212; 
            --card-dark: #1A1A1A; 
            --heading-dark: #F0F0F0;
            --text-dark: #B0B0B0;
            --border-dark: #333333;
            --accent-dark: #8E8DFF;
        }

        html.dark {
            --bg-color: var(--background-dark);
            --surface-color: var(--surface-dark);
            --card-color: var(--card-dark);
            --text-primary: var(--text-dark);
            --heading-color: var(--heading-dark);
            --divider-color: var(--border-dark); 
            --accent-color: var(--accent-dark);
        }

        html.light {
            --bg-color: var(--background-light);
            --surface-color: var(--surface-light);
            --card-color: var(--card-light);
            --text-primary: var(--text-light);
            --heading-color: var(--heading-light);
            --divider-color: var(--border-light);
            --accent-color: var(--accent-light);
        }

        html { /* scroll-behavior is handled by Lenis */ }

        body {
            background-color: var(--bg-color);
            color: var(--text-primary);
            font-family: 'Inter', sans-serif;
            transition: background-color 0.3s ease-in-out, color 0.3s ease-in-out;
            overflow-x: hidden;
        }
        
        /* REMOVED: Initial hidden state for sections and items */
        /* .animate-item, main > section[id] {
            opacity: 0; 
            visibility: hidden; 
        } */
        
        #home { /* Home section remains visible */
            opacity: 1;
            visibility: visible;
        }
        #home .animate-item { /* Home items remain visible */
             opacity: 1;
             visibility: visible;
        }


        h1, h2, h3, h4, h5, h6 {
            font-family: 'Playfair Display', serif;
            color: var(--heading-color);
        }

        /* Hero Section Styling */
        #home {
            position: relative;
        }
        
        #space-background {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 0;
        }
        
        /* Reusable button styles */
        .btn {
            @apply px-6 py-3 rounded-full font-bold text-lg transition-all duration-300 ease-in-out transform hover:scale-105 shadow-md;
            position: relative; /* For cursor interaction */
            z-index: 2;
        }
        
        .btn:active {
            transform: scale(0.98) translateY(1px);
            transition-duration: 0.1s;
        }

        /* Dark Mode Buttons */
        html.dark .btn-cta { @apply bg-white text-black hover:bg-gray-200; }
        html.dark .btn-outline { @apply bg-transparent border-2 border-white text-white hover:bg-white hover:text-black; }
        
        /* Light Mode Buttons */
        html.light .btn-cta { @apply bg-black text-white hover:bg-gray-800; }
        html.light .btn-outline { @apply bg-transparent border-2 border-black text-black hover:bg-black hover:text-white; }
        
        .btn:hover {
            text-shadow: 0 0 12px var(--accent-color), 0 0 20px var(--accent-color);
        }

        /* Card Hover Effects */
        .professional-card { 
            transition: transform 0.4s cubic-bezier(0.25, 1, 0.5, 1), box-shadow 0.4s cubic-bezier(0.25, 1, 0.5, 1), opacity 0.4s cubic-bezier(0.25, 1, 0.5, 1); 
            @apply flex flex-col;
            will-change: transform, opacity;
        }

        .professional-card:hover { 
            transform: translateY(-8px) scale(1.02); 
        }

        html.dark .professional-card:hover {
            box-shadow: 0 15px 30px rgba(255, 255, 255, 0.05);
        }
        html.light .professional-card { 
            border: 1px solid var(--border-light);
        }
        html.light .professional-card:hover {
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.05);
        }

        .tech-tag {
             @apply inline-block text-xs font-semibold mr-2 mb-2 px-3 py-1 rounded-full;
        }
        html.dark .tech-tag {
            @apply bg-surface-dark text-text-primary/80;
        }
        html.light .tech-tag {
            @apply bg-gray-200 text-gray-700;
        }
        
        /* Active Nav Link */
        nav a.active {
            color: var(--accent-color);
            font-weight: bold;
        }

        /* Custom Modal for alerts */
        #modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 10000;
        }
        #modal-content {
            background-color: var(--card-color);
            padding: 2.5rem;
            border-radius: 12px;
            text-align: center;
            max-width: 400px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            position: relative;
        }
        
        #hero-heading span {
            display: inline-block;
            transition: transform 0.2s cubic-bezier(0.7, 0, 0.3, 1), color 0.2s;
        }

        #hero-heading span:hover {
            transform: scale(-1, 1) translateY(-2px);
            color: var(--accent-color);
        }

        #animated-tagline {
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Playfair Display', serif;
        }
        
        .typewriter-cursor {
            display: inline-block;
            background-color: var(--heading-color);
            width: 4px;
            height: 1em;
            margin-left: 4px;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 100% { background-color: transparent; }
            50% { background-color: var(--heading-color); }
        }

        /* NEW: Dynamic Island Logo Effect */
        #logo-container {
            transition: width 0.4s cubic-bezier(0.65, 0, 0.35, 1);
            cursor: pointer;
        }
        #logo-container:hover {
            width: 170px; /* Adjust this width to fit "Flynn Maxwel" */
        }
        #logo-container:hover #logo-initials {
            opacity: 0;
            transition-duration: 0.1s;
        }
        #logo-container:hover #logo-fullname {
            opacity: 1;
            transition-delay: 0.15s;
        }
        
        /* NEW: Styles for the social island */
        #social-island {
            position: absolute;
            top: 120%; /* Position it just below the logo */
            left: 50%;
            transform: translateX(-50%) scale(0.8) translateY(-10px);
            background: rgba(18, 18, 18, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 9999px;
            padding: 8px 16px;
            display: flex;
            gap: 16px;
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s cubic-bezier(0.65, 0, 0.35, 1);
            width: max-content;
        }
        #logo-container.expanded #social-island {
            opacity: 1;
            transform: translateX(-50%) scale(1) translateY(0);
            pointer-events: auto;
        }
        #social-island a {
            transition: transform 0.2s ease;
        }
        #social-island a:hover {
            transform: scale(1.2);
        }

        /* NEW: Dynamic Island for Theme Toggle */
        #theme-toggle-container {
            transition: width 0.4s cubic-bezier(0.65, 0, 0.35, 1);
            cursor: pointer;
        }
        #theme-toggle-container:hover {
            width: 140px;
        }
        #theme-toggle {
            transition: transform 0.4s cubic-bezier(0.65, 0, 0.35, 1);
        }
        #theme-toggle-container:hover #theme-toggle {
            transform: translateX(-40px);
        }
        #theme-toggle-text {
            pointer-events: none;
            opacity: 0;
            transform: translateX(10px);
            transition: opacity 0.3s ease 0.1s, transform 0.4s cubic-bezier(0.65, 0, 0.35, 1);
        }
        #theme-toggle-container:hover #theme-toggle-text {
            opacity: 1;
            transform: translateX(25px);
        }

        /* NEW: Full-Screen Mobile Menu Styles */
        #mobile-menu {
            position: fixed;
            inset: 0;
            z-index: 9998; /* Just below header islands */
            background-color: var(--surface-dark); /* Fallback */
            background-color: rgba(18, 18, 18, 0.85);
            backdrop-filter: blur(16px) saturate(180%);
            -webkit-backdrop-filter: blur(16px) saturate(180%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease-in-out;
        }
        html.light #mobile-menu {
            background-color: rgba(248, 248, 248, 0.85);
        }
        #mobile-menu.open {
            opacity: 1;
            pointer-events: auto;
        }
        #mobile-menu a {
            @apply text-4xl font-playfair font-bold;
            opacity: 0;
            color: var(--heading-color);
        }
        #mobile-menu-close-button {
            position: absolute;
            top: 1rem; /* Adjusted for mobile */
            right: 1rem; /* Adjusted for mobile */
            z-index: 9999;
            @apply h-12 w-12 p-3;
            color: var(--text-primary);
        }

        /* NEW: Custom Cursor */
        /* body {
            cursor: none;
        } */ /* Removed this rule */
        #cursor-dot, #cursor-ring {
            position: fixed;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 11000;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: transform 0.1s ease-out;
        }
        #cursor-dot {
            width: 6px;
            height: 6px;
            background-color: var(--accent-color);
        }
        #cursor-ring {
            width: 30px;
            height: 30px;
            border: 2px solid var(--accent-color);
            transition: transform 0.3s cubic-bezier(0.25, 1, 0.5, 1), opacity 0.3s;
            opacity: 0.7;
        }
        /* Cursor hover state */
        #cursor-ring.cursor-hover {
            transform: translate(-50%, -50%) scale(2.5);
            opacity: 1;
        }
    </style>
</head>
<body class="font-inter">
    
    <!-- FIXED: Unified header with M logo, navigation, and theme toggle -->
    <!-- Adjusted top-4 to top-2 and px-4 to px-2 for a tighter mobile fit -->
    <header class="fixed top-2 left-1/2 -translate-x-1/2 z-50 flex justify-center items-center w-[calc(100%-1rem)] md:w-full px-2 md:px-4 py-2 bg-surface-dark/80 backdrop-blur-md rounded-full shadow-lg border light:border-black/5 dark:border-white/10 max-w-5xl">
        <!-- UPDATED: Dynamic Island Logo -->
        <div id="logo-container" class="relative flex items-center justify-center bg-black h-12 w-12 rounded-full font-playfair font-bold text-white flex-shrink-0 shadow-lg" style="background-image: linear-gradient(135deg, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0) 50%);">
            <span id="logo-initials" class="transition-opacity duration-200" style="font-size: 1.1rem; letter-spacing: -0.05em;">FM</span>
            <span id="logo-fullname" class="absolute whitespace-nowrap opacity-0 transition-opacity duration-200" style="font-size: 1.1rem;">Flynn Maxwel</span>

            <!-- NEW: Social Icons Island -->
            <div id="social-island">
                <a href="https://instagram.com" target="_blank" class="text-white hover:text-pink-500"><i class="fab fa-instagram"></i></a>
                <a href="https://x.com" target="_blank" class="text-white hover:text-gray-400"><i class="fab fa-x-twitter"></i></a>
                <a href="https://pinterest.com" target="_blank" class="text-white hover:text-red-600"><i class="fab fa-pinterest"></i></a>
                <a href="https://snapchat.com" target="_blank" class="text-white hover:text-yellow-400"><i class="fab fa-snapchat"></i></a>
            </div>
        </div>

        <!-- Main Navigation Links -->
        <nav id="nav-menu" class="hidden md:flex flex-grow justify-center items-center space-x-10 text-primary text-lg">
            <a href="#home" class="nav-link hover:text-accent-color transition-colors duration-300">Home</a>
            <a href="#about" class="nav-link hover:text-accent-color transition-colors duration-300">The Story</a>
            <a href="#skills" class="nav-link hover:text-accent-color transition-colors duration-300">Skills</a>
            <a href="#projects" class="nav-link hover:text-accent-color transition-colors duration-300">Creations</a>
            <a href="#testimonials" class="nav-link hover:text-accent-color transition-colors duration-300">Echoes</a>
            <a href="#contact" class="nav-link hover:text-accent-color transition-colors duration-300">Connect</a>
        </nav>
        
        <!-- UPDATED: Dynamic Island Theme Toggle -->
        <div id="theme-toggle-container" class="relative flex items-center justify-center ml-4 bg-card-dark/20 backdrop-blur-md rounded-full h-12 w-12 shadow-lg border border-white/10" role="button" aria-label="Toggle dark and light mode">
            <div id="theme-toggle" class="absolute w-12 h-12 p-3 text-text-primary hover:text-accent-color transition-colors">
                <svg id="theme-toggle-dark-icon" class="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>
                <svg id="theme-toggle-light-icon" class="hidden w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
            </div>
            <span id="theme-toggle-text" class="whitespace-nowrap text-text-primary opacity-0 font-semibold pointer-events-none text-sm"></span>
        </div>

        <button id="mobile-menu-button" class="md:hidden text-text-primary ml-4 z-[10000]" aria-label="Open mobile navigation menu">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
        </button>
    </header>

    <main>
        <!-- Hero Section: Clear Purpose -->
        <section id="home" class="min-h-screen flex items-center justify-center relative">
            <canvas id="space-background"></canvas>
            <div id="hero-content" class="text-center container mx-auto px-6 relative z-10">
                <div class="animate-item">
                    <!-- UPDATED: Adjusted mobile text size -->
                    <h1 id="hero-heading" class="text-5xl md:text-6xl font-playfair font-bold mb-4">Hi, I’m Flynn Maxwel</h1>
                    <!-- UPDATED: Adjusted mobile text size -->
                    <p id="animated-tagline" class="text-3xl md:text-4xl mb-8 max-w-3xl mx-auto">
                        <span id="tagline-text"></span><span class="typewriter-cursor"></span>
                    </p>
                </div>
                <div class="flex justify-center items-center gap-6 flex-wrap animate-item">
                    <a href="#projects" class="btn btn-cta">View My Work</a>
                    <a href="#contact" class="btn btn-outline">Contact Me</a>
                </div>
            </div>
        </section>

        <!-- NEW: Full-Page "My Story" Section -->
        <section id="about" class="min-h-screen bg-surface-dark flex items-center justify-center py-20 md:py-32" data-animation="mask-reveal">
            <div class="container mx-auto px-6">
                <div class="grid md:grid-cols-2 gap-16 items-center">
                    <div class="animate-item">
                        <img src="https://placehold.co/800x1000/1A1A1A/444444?text=Creator" alt="A portrait of Max, the creative developer" class="rounded-lg shadow-2xl w-full h-auto object-cover" loading="lazy" decoding="async">
                    </div>
                    <div class="max-w-xl">
                        <!-- UPDATED: Adjusted mobile text size -->
                        <h2 class="text-4xl md:text-6xl font-playfair font-bold mb-8 animate-item">My Story</h2>
                        <p class="text-xl md:text-2xl leading-relaxed text-text-primary/90 mb-8 animate-item">
                            “I’m Max. I’ve always been drawn to creating—whether it was solving a tricky problem with code, sketching an idea on paper, capturing a moment through a lens, or telling a story with words. Each project I take on is a chance to bring imagination to life, blending logic with creativity in ways that feel effortless yet meaningful.”
                        </p>
                        <p class="text-xl md:text-2xl leading-relaxed text-text-primary/90 animate-item">
                            “My work isn’t just about making things work; it’s about crafting experiences that connect, inspire, and linger. This is my journey: a path shaped by curiosity, passion, and the drive to turn ideas into something unforgettable.”
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Skills Section -->
        <section id="skills" class="py-20 md:py-32" data-animation="default-fade">
            <div class="container mx-auto px-6">
                <h2 class="text-4xl font-playfair font-bold text-center mb-16 animate-item">Skills & Expertise</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-12">
                    <div class="professional-card bg-card-color p-6 rounded-2xl shadow-lg animate-item">
                        <h3 class="text-2xl font-playfair font-bold mb-4">Languages</h3>
                        <ul class="space-y-3">
                            <li class="flex items-center"><i class="fa-brands fa-python mr-2 text-blue-500"></i>Python</li>
                            <li class="flex items-center"><i class="fa-brands fa-js-square mr-2 text-yellow-400"></i>JavaScript <span class="text-text-primary/70 text-sm">(Learning)</span></li>
                            <li class="flex items-center"><i class="fa-solid fa-file-code mr-2 text-blue-600"></i>C++</li>
                            <li class="flex items-center"><i class="fa-brands fa-html5 mr-2 text-orange-600"></i><span class="mr-2">/</span><i class="fa-brands fa-css3-alt mr-2 text-blue-500"></i>HTML & CSS</li>
                        </ul>
                    </div>
                    <div class="professional-card bg-card-color p-6 rounded-2xl shadow-lg animate-item">
                        <h3 class="text-2xl font-playfair font-bold mb-4">Frameworks & Tools</h3>
                        <ul class="space-y-3">
                            <li class="flex items-center"><i class="fa-solid fa-brain mr-2 text-orange-500"></i>TensorFlow & PyTorch <span class="text-text-primary/70 text-sm">(Learning)</span></li>
                            <li class="flex items-center"><i class="fa-brands fa-react mr-2 text-sky-500"></i><span class="mr-2">/</span><i class="fa-brands fa-node-js mr-2 text-green-500"></i>React & Node.js <span class="text-text-primary/70 text-sm">(Learning)</span></li>
                            <li class="flex items-center"><i class="fa-brands fa-git-alt mr-2 text-orange-600"></i><span class="mr-2">/</span><i class="fa-brands fa-docker mr-2 text-sky-600"></i>Git & Docker</li>
                        </ul>
                    </div>
                    <div class="professional-card bg-card-color p-6 rounded-2xl shadow-lg animate-item">
                        <h3 class="text-2xl font-playfair font-bold mb-4">UI/UX Design</h3>
                        <ul class="space-y-3">
                            <li class="flex items-center"><i class="fa-brands fa-figma mr-2 text-pink-500"></i><span class="mr-2">/</span><i class="fa-brands fa-adobe mr-2 text-red-600"></i>Figma & Adobe XD <span class="text-text-primary/70 text-sm">(Learning)</span></li>
                            <li class="flex items-center"><i class="fa-solid fa-wand-magic-sparkles mr-2 text-cyan-400"></i>Photoshop</li>
                            <li class="flex items-center"><i class="fa-solid fa-sitemap mr-2 text-gray-500"></i>Wireframing <span class="text-text-primary/70 text-sm">(Learning)</span></li>
                        </ul>
                    </div>
                    <div class="professional-card bg-card-color p-6 rounded-2xl shadow-lg animate-item">
                        <h3 class="text-2xl font-playfair font-bold mb-4">Soft Skills</h3>
                        <ul class="space-y-3">
                            <li class="flex items-center"><i class="fa-solid fa-lightbulb mr-2 text-yellow-400"></i>Problem Solving</li>
                            <li class="flex items-center"><i class="fa-solid fa-users mr-2 text-teal-400"></i>Communication</li>
                            <li class="flex items-center"><i class="fa-solid fa-palette mr-2 text-purple-400"></i>Adaptability & Creativity</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Projects Section -->
        <section id="projects" class="py-20 md:py-32" data-animation="focus-pull">
             <div class="container mx-auto px-6">
                    <h2 class="text-4xl font-playfair font-bold text-center mb-8 animate-item">Creations</h2>
                       <!-- NEW: Download Resume Button -->
                        <div class="text-center mb-16 animate-item" style="transition-delay: 150ms;">
                            <a href="Max-Resume.pdf" download class="btn btn-outline">
                                <i class="fas fa-file-arrow-down mr-2"></i> Download My Resume
                            </a>
                        </div>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
                            <!-- Project Cards with Tech Tags -->
                            <div class="professional-card bg-card-color rounded-2xl shadow-lg overflow-hidden p-8 animate-item">
                                <h3 class="text-2xl font-playfair font-bold mb-2">IoT Ambulance Project</h3>
                                <div class="flex-grow">
                                    <p class="mb-6">This project is a real-time IoT system for patient health monitoring and automated traffic control... The data is sent to a cloud platform for remote monitoring, and emergency alerts are sent via a GSM module to ensure a faster response.</p>
                                </div>
                                <div class="mt-auto pt-4">
                                    <span class="tech-tag">Arduino</span><span class="tech-tag">ESP8266</span><span class="tech-tag">ThingSpeak</span><span class="tech-tag">GSM</span>
                                </div>
                            </div>

                            <div class="professional-card bg-card-color rounded-2xl shadow-lg overflow-hidden p-8 animate-item">
                                <h3 class="text-2xl font-playfair font-bold mb-2">Smart Floor for Intruder Detection</h3>
                                <div class="flex-grow">
                                    <p class="mb-6">A security project that uses a simple, Arduino-based circuit to detect intrusions... a combination of an RGB LED and buzzer to provide visual and auditory alerts when an unauthorized presence is detected.</p>
                                </div>
                                <div class="mt-auto pt-4">
                                    <span class="tech-tag">Arduino</span><span class="tech-tag">PIR Sensor</span><span class="tech-tag">Force Sensor</span>
                                </div>
                            </div>

                            <div class="professional-card bg-card-color rounded-2xl shadow-lg overflow-hidden p-8 animate-item">
                                <h3 class="text-2xl font-playfair font-bold mb-2">Personal AI Assistant (‘FRIDAY’ inspired)</h3>
                                <div class="flex-grow">
                                    <p class="mb-6">A sophisticated voice-controlled assistant with a graphical user interface... This project showcases proficiency in Natural Language Processing (NLP) and building cohesive, user-friendly applications.</p>
                                </div>
                                <div class="mt-auto pt-4">
                                    <span class="tech-tag">Python</span><span class="tech-tag">GUI</span><span class="tech-tag">NLP</span>
                                </div>
                            </div>

                            <div class="professional-card bg-card-color rounded-2xl shadow-lg overflow-hidden p-8 animate-item">
                                <h3 class="text-2xl font-playfair font-bold mb-2">AlterVerse Python Game</h3>
                                <div class="flex-grow">
                                    <p class="mb-6">A game designed to demonstrate seamless database integration... highlighting skills in backend data management and front-end user experience.</p>
                                </div>
                                <div class="mt-auto pt-4">
                                    <span class="tech-tag">Python</span><span class="tech-tag">MySQL</span>
                                </div>
                            </div>

                            <div class="professional-card bg-card-color rounded-2xl shadow-lg overflow-hidden p-8 animate-item">
                                <h3 class="text-2xl font-playfair font-bold mb-2">AI-Powered File Organizer App</h3>
                                <div class="flex-grow">
                                    <p class="mb-6">An intelligent desktop application that automates file management... a drag-and-drop interface and audio alerts for a streamlined user experience.</p>
                                </div>
                                <div class="mt-auto pt-4">
                                    <span class="tech-tag">Python</span><span class="tech-tag">AI/ML</span>
                                </div>
                            </div>

                            <div class="professional-card bg-card-color rounded-2xl shadow-lg overflow-hidden p-8 animate-item">
                                <h3 class="text-2xl font-playfair font-bold mb-2">Web App for Group Music Listening</h3>
                                <div class="flex-grow">
                                    <p class="mb-6">This web application allows multiple users to listen to music together in real-time... creating a shared and social listening experience.</p>
                                </div>
                                <div class="mt-auto pt-4">
                                    <span class="tech-tag">JavaScript</span><span class="tech-tag">Web APIs</span>
                                </div>
                            </div>

                            <div class="professional-card bg-card-color rounded-2xl shadow-lg overflow-hidden p-8 animate-item">
                                <h3 class="text-2xl font-playfair font-bold mb-2">Portfolio Website</h3>
                                <div class="flex-grow">
                                    <p class="mb-6">This personal website serves as a showcase for various creative and technical projects... highlighting a blend of coding and design skills.</p>
                                </div>
                                <div class="mt-auto pt-4">
                                    <span class="tech-tag">HTML</span><span class="tech-tag">Tailwind CSS</span><span class="tech-tag">JavaScript</span>
                                </div>
                            </div>
                            
                            <div class="professional-card bg-card-color rounded-2xl shadow-lg overflow-hidden p-8 animate-item">
                                <h3 class="text-2xl font-playfair font-bold mb-2">Startup Idea – Fitness Vending Machine</h3>
                                <div class="flex-grow">
                                    <p class="mb-6">A comprehensive business plan for a vending machine that dispenses popular fitness supplements... highlighting strategic planning, market analysis, and a entrepreneurial mindset.</p>
                                </div>
                                <div class="mt-auto pt-4">
                                    <span class="tech-tag">Business Plan</span>
                                </div>
                            </div>
                    </div>
             </div>
        </section>
        
        <!-- Testimonials Section -->
        <section id="testimonials" class="py-20 md:py-32 bg-surface-dark" data-animation="default-fade">
            <div class="container mx-auto px-6">
                <h2 class="text-4xl font-playfair font-bold text-center mb-16 animate-item">Echoes</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="professional-card bg-card-color p-8 rounded-2xl shadow-lg animate-item">
                        <p class="text-lg italic mb-4">"Max is an exceptionally creative and detail-oriented developer. The work he did on our project was flawless and exceeded all expectations."</p>
                    </div>
                    <div class="professional-card bg-card-color p-8 rounded-2xl shadow-lg animate-item">
                        <p class="text-lg italic mb-4">"His ability to translate complex concepts into clean, simple user interfaces is remarkable. He's a true talent."</p>
                    </div>
                    <div class="professional-card bg-card-color p-8 rounded-2xl shadow-lg animate-item">
                        <p class="text-lg italic mb-4">"Max's code is not just functional; it's a piece of art. His attention to detail and clean architecture is second to none."</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Contact Section -->
        <section id="contact" class="py-20 md:py-32" data-animation="scale-up">
            <div class="container mx-auto px-6">
                <h2 class="text-4xl font-playfair font-bold text-center mb-4 animate-item">Let's Connect</h2>
                <p class="text-center mb-12 max-w-2xl mx-auto animate-item">I'm always open to new opportunities and collaborations. Fill out the form below or connect with me on social media.</p>
                
                <!-- 
                    TROUBLESHOOTING YOUR GOOGLE FORM
                    The most common reason for failure is a mismatch in the 'name' attributes below.
                    Please follow the steps provided to verify that each 'entry.xxxxxxxxxx' value
                    is the correct one for your specific Google Form.
                -->
                <div class="max-w-xl mx-auto p-8 rounded-2xl light:border light:border-gray-200 bg-card-color animate-item text-center">
                    <form id="contact-form" class="space-y-6">
                        <!-- Verify this name attribute is for your "Name" field -->
                        <input type="text" name="entry.2005620554" placeholder="Your Name" class="w-full p-4 rounded-lg bg-surface-dark text-text-dark border border-gray-700 focus:outline-none focus:ring-2 focus:ring-accent-dark" required>
                        <!-- Verify this name attribute is for your "Email" field -->
                        <input type="email" name="entry.1045781291" placeholder="Your Email" class="w-full p-4 rounded-lg bg-surface-dark text-text-dark border border-gray-700 focus:outline-none focus:ring-2 focus:ring-accent-dark" required>
                        <!-- Verify this name attribute is for your "Message" field -->
                        <textarea name="entry.839337160" placeholder="Your Message" rows="6" class="w-full p-4 rounded-lg bg-surface-dark text-text-dark border border-gray-700 focus:outline-none focus:ring-2 focus:ring-accent-dark" required></textarea>
                        <button type="submit" class="btn btn-cta w-full">Send Message</button>
                    </form>
                </div>

                <!-- Social Links -->
                <div class="mt-12 text-center animate-item">
                    <div class="flex justify-center items-center space-x-6 text-lg text-text-primary">
                        <a href="https://github.com/Max" target="_blank" rel="noopener noreferrer" aria-label="GitHub Profile" class="hover:text-accent-color transition-colors duration-300"><i class="fab fa-github"></i></a>
                        <a href="https://www.linkedin.com/in/Max" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn Profile" class="hover:text-accent-color transition-colors duration-300"><i class="fab fa-linkedin"></i></a>
                        <a href="mailto:max@example.com" aria-label="Send an email to Max" class="hover:text-accent-color transition-colors duration-300"><i class="fas fa-envelope"></i></a>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <!-- NEW FOOTER -->
    <footer class="py-12 text-center text-text-primary/70">
        <p>© 2025</p>
    </footer>

    <!-- Mobile Menu (for small screens) -->
    <!-- UPDATED: Full-screen mobile menu HTML -->
    <div id="mobile-menu" class="hidden md:hidden">
        <button id="mobile-menu-close-button" aria-label="Close mobile navigation menu">
             <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
        </button>
        <div id="mobile-nav-links" class="flex flex-col items-center justify-center space-y-8">
            <a href="#home" class="nav-link">Home</a>
            <a href="#about" class="nav-link">The Story</a>
            <a href="#skills" class="nav-link">Skills</a>
            <a href="#projects" class="nav-link">Creations</a>
            <a href="#testimonials" class="nav-link">Echoes</a>
            <a href="#contact" class="nav-link">Connect</a>
            <a href="Max-Resume.pdf" download class="nav-link mt-4 !text-2xl btn btn-outline">Download Resume</a>
        </div>
    </div>

    <!-- Custom Modal for Notifications -->
    <div id="modal-overlay">
        <div id="modal-content">
            <p id="modal-message" class="text-lg font-bold mb-4"></p>
            <button onclick="document.getElementById('modal-overlay').style.display='none'" class="btn bg-accent-color text-white">
                OK
            </button>
        </div>
    </footer>
    
    <button id="back-to-top" class="fixed bottom-5 right-5 bg-card-dark p-3 rounded-full text-text-primary shadow-lg hidden hover:bg-surface-dark transition-all duration-300" aria-label="Back to top">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"></path></svg>
    </button>
    
    <!-- NEW: Custom Cursor Elements -->
    <div id="cursor-dot"></div>
    <div id="cursor-ring"></div>
    
    <!-- FIXED: GSAP scripts moved to the end of body -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            gsap.registerPlugin(ScrollTrigger);

            // NEW: Hero Entrance Animation
            gsap.from("#hero-content .animate-item", {
                duration: 0.8,
                opacity: 0,
                y: 40,
                stagger: 0.1,
                delay: 0.2, // Small delay for page to settle
                ease: "power3.out"
            });

            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            const mobileMenuCloseButton = document.getElementById('mobile-menu-close-button');
            const mobileNavLinks = document.querySelectorAll('#mobile-menu a');
            const backToTopButton = document.getElementById('back-to-top');
            const sections = document.querySelectorAll('main > section[id]');
            const navLinks = document.querySelectorAll('.nav-link');
            const themeToggleBtn = document.getElementById('theme-toggle');
            const themeToggleContainer = document.getElementById('theme-toggle-container'); // Get the container
            const themeToggleText = document.getElementById('theme-toggle-text');
            const darkIcon = document.getElementById('theme-toggle-dark-icon');
            const lightIcon = document.getElementById('theme-toggle-light-icon');
            const heroSection = document.getElementById('home');
            const modalOverlay = document.getElementById('modal-overlay');
            const modalMessage = document.getElementById('modal-message');
            const contactForm = document.getElementById('contact-form');
            const logoContainer = document.getElementById('logo-container');
            
            // NEW: Custom Cursor Logic
            const cursorDot = document.getElementById('cursor-dot');
            const cursorRing = document.getElementById('cursor-ring');
            if (cursorDot && cursorRing) {
                window.addEventListener('mousemove', (e) => {
                    gsap.to(cursorDot, { duration: 0.1, x: e.clientX, y: e.clientY });
                    gsap.to(cursorRing, { duration: 0.3, x: e.clientX, y: e.clientY, ease: 'power2.out' });
                });
                const hoverElements = document.querySelectorAll('a, button, .professional-card, #logo-container, #theme-toggle-container');
                hoverElements.forEach(el => {
                    el.addEventListener('mouseenter', () => cursorRing.classList.add('cursor-hover'));
                    el.addEventListener('mouseleave', () => cursorRing.classList.remove('cursor-hover'));
                });
            }

            // Mobile Menu
            // UPDATED: Full-screen mobile menu logic
            function openMobileMenu() {
                if (!mobileMenu) return;
                mobileMenu.classList.remove('hidden');
                mobileMenu.classList.add('open');
                gsap.fromTo(mobileNavLinks, 
                    { opacity: 0, y: 20 },
                    { opacity: 1, y: 0, duration: 0.3, stagger: 0.05, ease: 'power2.out', delay: 0.1 }
                );
            }

            function closeMobileMenu() {
                if (!mobileMenu) return;
                mobileMenu.classList.remove('open');
                 gsap.to(mobileNavLinks, { opacity: 0, y: 20, duration: 0.2, ease: 'power2.in' });
                 setTimeout(() => {
                     if (!mobileMenu.classList.contains('open')) {
                         mobileMenu.classList.add('hidden');
                     }
                 }, 300);
            }

            if (mobileMenuButton) {
                mobileMenuButton.addEventListener('click', (e) => {
                    e.stopPropagation();
                    if (mobileMenu.classList.contains('open')) {
                        closeMobileMenu();
                    } else {
                        openMobileMenu();
                    }
                });
            }
            if (mobileMenuCloseButton) {
                mobileMenuCloseButton.addEventListener('click', closeMobileMenu);
            }
            mobileNavLinks.forEach(link => {
                link.addEventListener('click', closeMobileMenu);
            });


            // Active Nav Link on Scroll
            const updateActiveNavLink = () => {
                const fromTop = window.scrollY + window.innerHeight / 2;
                let currentActive = null;

                sections.forEach(section => {
                    if (section.offsetTop <= fromTop && section.offsetTop + section.offsetHeight > fromTop) {
                        currentActive = section.id;
                    }
                });


                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.hash === `#${currentActive}`) {
                        link.classList.add('active');
                    }
                });
            };
            
            // NEW: Smooth Scrolling with Lenis
            const lenis = new Lenis();
            function raf(time) {
                lenis.raf(time);
                requestAnimationFrame(raf);
            }
            requestAnimationFrame(raf);

            // UPDATED: Smoother, more elegant section transitions
            sections.forEach(section => {
                if (section.id !== 'home') {
                    const animationType = section.dataset.animation;
                    let sectionVars = { opacity: 0 }; // Initial state
                    let itemVars = { opacity: 0, y: 30 }; // Initial state for items

                    // Define initial animation state based on data-attribute
                    switch (animationType) {
                        case 'mask-reveal':
                            sectionVars.clipPath = "circle(0% at 50% 50%)";
                            break;
                        case 'focus-pull':
                            sectionVars.filter = 'blur(10px)';
                            sectionVars.scale = 1.03;
                            break;
                        case 'scale-up':
                            sectionVars.scale = 0.95;
                            break;
                        default: // default-fade
                            sectionVars.y = 30;
                            break;
                    }
                    
                    // Set initial states
                    gsap.set(section, sectionVars);
                    const animatedItems = section.querySelectorAll('.animate-item');
                    gsap.set(animatedItems, itemVars);

                    // Animate the section itself
                    let sectionRevealVars = {
                        opacity: 1,
                        duration: 1.0, // A slightly longer, more graceful duration
                        ease: "power3.out" // A smooth, elegant ease
                    };
                    if (animationType === 'mask-reveal') sectionRevealVars.clipPath = "circle(150% at 50% 50%)";
                    if (animationType === 'focus-pull') { sectionRevealVars.filter = 'blur(0px)'; sectionRevealVars.scale = 1; }
                    if (animationType === 'scale-up') sectionRevealVars.scale = 1;
                    if (animationType !== 'mask-reveal' && animationType !== 'focus-pull' && animationType !== 'scale-up') sectionRevealVars.y = 0;

                    gsap.to(section, {
                        ...sectionRevealVars,
                        scrollTrigger: {
                            trigger: section,
                            start: "top 85%",
                            once: true,
                            // Animate items *after* section starts animating
                            onEnter: () => {
                                gsap.to(animatedItems, {
                                    opacity: 1,
                                    y: 0,
                                    duration: 0.7, // A good duration for items
                                    ease: "power3.out",
                                    stagger: 0.1 // A slightly more pronounced stagger
                                });
                            }
                        }
                    });
                }
            });


            // NEW: Dynamic Island Logic
            if (logoContainer) {
                logoContainer.addEventListener('click', (e) => {
                    // This allows clicks on social icons to work
                    if (e.target.closest('#social-island a')) {
                       return;
                    }
                    e.preventDefault();
                    logoContainer.classList.toggle('expanded');
                });

                document.addEventListener('click', (e) => {
                    if (!logoContainer.contains(e.target)) {
                        logoContainer.classList.remove('expanded');
                    }
                });
            }

            // NEW: Glassmorphism-style focus effect for cards
            const cardGrids = document.querySelectorAll('.grid');
            cardGrids.forEach(grid => {
                const cards = grid.querySelectorAll('.professional-card');
                cards.forEach(card => {
                    card.addEventListener('mouseenter', () => {
                        cards.forEach(otherCard => {
                            if (otherCard !== card) {
                                otherCard.style.opacity = '0.5';
                                // otherCard.style.transform = 'scale(0.98)'; // REMOVED for a cleaner effect
                            }
                        });
                    });
                    card.addEventListener('mouseleave', () => {
                        cards.forEach(otherCard => {
                            otherCard.style.opacity = '1';
                            // otherCard.style.transform = ''; // REMOVED for a cleaner effect
                        });
                    });
                });
            });


            lenis.on('scroll', (e) => {
                updateActiveNavLink();
                if (backToTopButton) {
                    e.scroll > 300 ? backToTopButton.classList.remove('hidden') : backToTopButton.classList.add('hidden');
                }
                // NEW: Close mobile menu on scroll
                if (mobileMenu.classList.contains('open')) {
                    closeMobileMenu();
                }
            });

            if (backToTopButton) {
                backToTopButton.addEventListener('click', () => { lenis.scrollTo(0) });
            }

            // Dark/Light Mode Toggle
            function setTheme(isLight) {
                if (isLight) {
                    document.documentElement.classList.remove('dark');
                    document.documentElement.classList.add('light');
                    if (lightIcon && darkIcon) {
                        lightIcon.classList.remove('hidden');
                        darkIcon.classList.add('hidden');
                    }
                    if (themeToggleText) themeToggleText.textContent = "Dark Mode";
                    localStorage.setItem('color-theme', 'light');
                } else {
                    document.documentElement.classList.add('dark');
                    document.documentElement.classList.remove('light');
                    if (lightIcon && darkIcon) {
                        lightIcon.classList.add('hidden');
                        darkIcon.classList.remove('hidden');
                    }
                    if (themeToggleText) themeToggleText.textContent = "Light Mode";
                    localStorage.setItem('color-theme', 'dark');
                }
            }
            
            const prefersLight = window.matchMedia('(prefers-color-scheme: light)').matches;
            const savedTheme = localStorage.getItem('color-theme');
            setTheme(savedTheme === 'light' || (!savedTheme && prefersLight));
            if (themeToggleContainer) {
                themeToggleContainer.addEventListener('click', () => setTheme(document.documentElement.classList.contains('dark')));
            }
            
            // Time-bending text effect initialization
            const heroHeading = document.getElementById('hero-heading');

            function applyTimeBendingEffect(element) {
                if (!element) return;
                const text = element.innerText;
                element.innerHTML = '';
                text.split('').forEach(char => {
                    const span = document.createElement('span');
                    span.textContent = char;
                    if (char === ' ') {
                        span.style.width = '0.25em';
                    }
                    element.appendChild(span);
                });
            }
            applyTimeBendingEffect(heroHeading);

            // Typewriter animation logic for MAIN hero
            const taglineTextElement = document.getElementById('tagline-text');
            const mainTaglines = [
                "Coding Infinite Realities", "Sketching Timeless Worlds", "Engineering Temporal Visions", "Capturing Pixels of Eternity", "Weaving Quantum Dreams"
            ];
            let mainTaglineIndex = 0;
            let mainCharIndex = 0;
            let mainIsDeleting = false;

            function typeWriter() {
                if (!taglineTextElement) return;
                const currentTagline = mainTaglines[mainTaglineIndex];
                let speed = mainIsDeleting ? 75 : 150;

                if (mainIsDeleting) {
                    taglineTextElement.textContent = currentTagline.substring(0, mainCharIndex - 1);
                    mainCharIndex--;
                } else {
                    taglineTextElement.textContent = currentTagline.substring(0, mainCharIndex + 1);
                    mainCharIndex++;
                }

                if (!mainIsDeleting && mainCharIndex === currentTagline.length) {
                    speed = 2000;
                    mainIsDeleting = true;
                } else if (mainIsDeleting && mainCharIndex === 0) {
                    mainIsDeleting = false;
                    mainTaglineIndex = (mainTaglineIndex + 1) % mainTaglines.length;
                    speed = 500;
                }
                
                setTimeout(typeWriter, speed);
            }
            
            if (taglineTextElement) {
                typeWriter();
            }

            // UPDATED: Google Forms Contact Form Submission
            if (contactForm) {
                contactForm.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    const form = e.target;
                    const formData = new FormData(form);
                    
                    const googleFormUrl = "https://docs.google.com/forms/d/e/1FAIpQLSfDSJExQu9xip_MVLwvfUbLk83n-UM_WWf6on-c8eNfCJ1axg/formResponse";

                    try {
                        await fetch(googleFormUrl, { method: "POST", body: formData, mode: "no-cors" });
                        modalMessage.innerText = 'Thank you for your message!';
                        modalOverlay.style.display = 'flex';
                        form.reset();
                    } catch (error) {
                        console.error("Error submitting to Google Forms:", error);
                        modalMessage.innerText = 'Oops! There was a problem submitting your form.';
                        modalOverlay.style.display = 'flex';
                    }
                });
            }
            
            // Dynamic Constellation Animation
            const canvas = document.getElementById('space-background');
            if (canvas) {
                const ctx = canvas.getContext('2d');
                let stars = [];
                let meteors = []; // Array for meteors
                let mouse = { x: undefined, y: undefined };

                window.addEventListener('mousemove', (event) => {
                    mouse.x = event.clientX;
                    mouse.y = event.clientY;
                });
                canvas.addEventListener('mouseleave', () => {
                    mouse.x = undefined;
                    mouse.y = undefined;
                });

                function setCanvasSize() {
                    canvas.width = window.innerWidth;
                    canvas.height = heroSection.offsetHeight > window.innerHeight ? heroSection.offsetHeight : window.innerHeight;
                }

                // Define the Meteor class
                class Meteor {
                    constructor() { this.reset(); }
                    reset() {
                        this.x = Math.random() * canvas.width + 100;
                        this.y = -10;
                        this.length = Math.random() * 100 + 80;
                        this.speed = Math.random() * 8 + 6;
                        this.angle = Math.PI / 4;
                        this.width = Math.random() * 1.5 + 0.5;
                    }
                    update() {
                        this.x += this.speed * Math.cos(this.angle);
                        this.y += this.speed * Math.sin(this.angle);
                        if (this.x > canvas.width + 200 || this.y > canvas.height + 200) { this.reset(); }
                    }
                    draw(context, color) {
                        context.save();
                        context.beginPath();
                        context.moveTo(this.x, this.y);
                        context.lineTo(this.x - this.length * Math.cos(this.angle), this.y - this.length * Math.sin(this.angle));
                        context.strokeStyle = color;
                        context.lineWidth = this.width;
                        context.lineCap = 'round';
                        context.stroke();
                        context.restore();
                    }
                }

                function init() {
                    setCanvasSize();
                    stars = [];
                    meteors = [];
                    for (let i = 0; i < 250; i++) {
                        let x = Math.random() * canvas.width;
                        let y = Math.random() * canvas.height;
                        stars.push({
                            x: x, y: y, originX: x, originY: y,
                            radius: Math.random() * 1.5 + 0.5,
                            alpha: Math.random() * 0.5 + 0.5,
                            twinkleSpeed: Math.random() * 0.015
                        });
                    }
                    for (let i = 0; i < 4; i++) {
                        meteors.push(new Meteor());
                    }
                }

                function animate() {
                    const isLightMode = document.documentElement.classList.contains('light');
                    const bgColor = isLightMode ? '#F8F8F8' : '#0A0A0A';
                    const starColor = isLightMode ? 'rgba(0, 0, 0, 0.7)' : 'rgba(255, 255, 255, 1)';
                    const meteorColor = isLightMode ? 'rgba(0, 0, 0, 0.2)' : 'rgba(255, 255, 255, 0.4)';
                    
                    ctx.fillStyle = bgColor;
                    ctx.fillRect(0, 0, canvas.width, canvas.height);

                    stars.forEach(star => {
                        star.alpha += star.twinkleSpeed;
                        if (star.alpha > 1 || star.alpha < 0.2) {
                            star.twinkleSpeed = -star.twinkleSpeed;
                        }

                        let dx = 0;
                        let dy = 0;
                        let distance = Infinity;
                        const attractionRadius = 200;

                        if (mouse.x !== undefined && mouse.y !== undefined) {
                            dx = mouse.x - star.x;
                            dy = mouse.y - star.y;
                            distance = Math.sqrt(dx * dx + dy * dy);
                        }

                        if (distance < attractionRadius) {
                            star.x += dx / 20; // Ease towards the mouse
                            star.y += dy / 20;
                        } else {
                            // Ease back to original position
                            star.x += (star.originX - star.x) / 20;
                            star.y += (star.originY - star.y) / 20;
                        }
                        
                        ctx.fillStyle = starColor.replace('1)', `${star.alpha})`).replace('0.7)', `${star.alpha})`);
                        ctx.beginPath();
                        ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
                        ctx.fill();
                    });

                    meteors.forEach(meteor => {
                        meteor.update();
                        meteor.draw(ctx, meteorColor);
                    });

                    requestAnimationFrame(animate);
                }

                init();
                animate();
                window.addEventListener('resize', init);
            }
        });
    </script>
</body>
</html>








